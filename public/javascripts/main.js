(()=>{"use strict";class t{constructor(){this.maxDist=0,this.mouse={x:0,y:0},this.cursor={x:window.innerWidth,y:window.innerHeight}}init(){this.initMouseMove()}initMouseMove(){const t=this;window.addEventListener("mousemove",(s=>{t.cursor.x=s.clientX,t.cursor.y=s.clientY}))}}class s{constructor(t,s){this.span=document.createElement("span"),this.span.setAttribute("data-char",s),this.span.innerText=s,t.appendChild(this.span),this.mouse={x:0,y:0},this.maxDist=0}setMouse(t,s){console.log("setMouse "+t),this.mouse.x=t,this.mouse.y=s}setMaxDist(t){this.maxDist=t}getDist(){return this.pos=this.span.getBoundingClientRect(),Math.dist(this.mouse,{x:this.pos.x+this.pos.width/1.75,y:this.pos.y})}getAttr(t,s,i){var e=i-Math.abs(i*t/this.maxDist);return Math.max(s,e+s)}update(t){var s=this.getDist();console.log("update"+s),this.wdth=t.wdth?~~this.getAttr(s,5,200):100,this.wght=t.wght?~~this.getAttr(s,100,800):400,this.alpha=t.alpha?this.getAttr(s,.2,1).toFixed(2):1,this.ital=t.ital?this.getAttr(s,0,1).toFixed(2):0,this.draw()}draw(){var t="";t+="opacity: "+this.alpha+";",t+="font-variation-settings: 'wght' "+this.wght+", 'wdth' "+this.wdth+", 'ital' "+this.ital+";",this.span.style=t}}class i{constructor(t){this.title=document.getElementById(t),this.str=this.title.innerText,this.title.innerHTML="",this.alpha=!0,this.width=!0,this.weight=!0,this.italic=!1,this.chars=[],this.mouse={x:0,y:0},this.cursor={x:window.innerWidth,y:window.innerHeight}}init(){this.captureChars(),this.set(),this.animate(),this.setListeners()}captureChars(){for(let i=0;i<this.str.length;i+=1){var t=new s(this.title,this.str[i]);this.chars.push(t)}}setListeners(){window.addEventListener("resize",this.setSize.bind(this)),window.addEventListener("mousemove",(t=>{this.cursor.x=t.clientX,this.cursor.y=t.clientY})),window.addEventListener("touchmove",(t=>{var s=t.touches[0];this.cursor.x=s.clientX,this.cursor.y=s.clientY}),{passive:!1})}set(){this.title.className="",this.setSize()}setSize(){let t=window.innerWidth;t>900&&(t=900);let s=t/(this.str.length/2);this.title.style="font-size: "+s+"px;"}animate(){this.mouse.x+=(this.cursor.x-this.mouse.x)/10,this.mouse.y+=(this.cursor.y-this.mouse.y)/10,window.requestAnimationFrame(this.animate.bind(this));for(let t=0;t<this.chars.length;t+=1)this.chars[t].setMouse(this.mouse.x,this.mouse.y);this.render()}render(){this.maxDist=this.title.getBoundingClientRect().width/2;for(let t=0;t<this.chars.length;t+=1)this.chars[t].setMaxDist(this.maxDist),this.chars[t].update({wght:this.weight,wdth:this.width,ital:this.italic,alpha:this.alpha})}}$((()=>{var s=!1;function e(){s=!1,$("body").removeClass("overlay-active")}Math.dist=function(t,s){var i=s.x-t.x,e=s.y-t.y;return Math.sqrt(Math.pow(i,2),Math.pow(e,2))},(new t).init(),new i("title").init(),"scrollRestoration"in history&&(history.scrollRestoration="manual"),AOS.init(),$("#contact-form").on("submit",(function(t){t.preventDefault();let s=0;const i=$(this),e={fname:$("#fname").val(),email:$("#email").val(),message:$("#message").val()};""===e.fname&&(s+=1,$("#fname").addClass("error")),""!==e.email&&/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e.email).toLowerCase())||(s+=1,$("#email").addClass("error")),""===e.message&&(s+=1,$("#message").addClass("error")),0===s&&$.ajax({type:i.attr("method"),url:i.attr("action"),data:JSON.stringify(e),cache:!1,contentType:"application/json; charset=utf-8",error:t=>{console.log(t)},success:t=>{$("#contact-message").html("Thank you for your comments. I will respond shortly."),$("#contact-form").addClass("success")}})})),$(".work-item a").on("click",(function(t){var i;t.preventDefault(),i=$(this).parent().index(),s=!0,$(".overlay .inner").scrollTop(0),$(".overlay .overlay-outer").hide().eq(i).show(),$("body").addClass("overlay-active")})),$(".overlay .close-btn").on("click",(function(t){t.preventDefault(),e()})),$(document).on("keydown",(function(t){"Escape"===t.key&&s&&e()})),$(".view-work-btn").on("click",(t=>{t.preventDefault(),$("html, body").animate({scrollTop:$(".work").offset().top},1e3)})),$(window).on("scroll",(()=>{let t=$(window).scrollTop()/2/($(window).height()/2);$(".landing .inner").css("filter","blur("+8*t+"px)"),$(".landing .inner").css("opacity",1-t/4)})),$(".overlay .overlay-outer").each((function(){$(this).find(".overlay-item").each((function(){$(this).find("img").attr("src",$(this).find("img").data("src"))}))}))}))})();